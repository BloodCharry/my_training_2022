import base64
import json
import requests
from time import sleep
from requests.exceptions import HTTPError

xal = "78128f6159d7f17c5dc111f38f94108b90b367358c8b3eaf63fdc614e1f1a45477518478158ab63c1d814ab0caf94bdcdb943c6ad89a3ca667e3ca53b8a99b052f12846943d8cb7c4cdd1cbfc1e902d684f13a39869d32ab31b7d242a4bea5486045846d59c4b63456910cf48fa703ccd8e2dec83217d425836534d8591e119223e05b28e63144bcfd0da913db1ae53f65119f8b6079b94dd0006a40582b1197d38f39b0e63145820df608f498eb218f8fa57d7a9e8941ec3ab2c427e9f1a454211ccb7a52d6f17c5fd60abfc1e90e9a96b07d60cd8677e83ca3814eedeca8446451846d449ef761409c0ae8d4e91bc2c0ae6f2c8bce65e83ca3c65af3beb4546642b66950d5fa7a0f895ad094b10f828ea1216fcc9924b404b88a04e7ebb2074d64c939079ea4350de411f3cdff5dce9af63a73c2e874ec3fb4b305ead7a8532c05da3f1983a22e05f830c9b6874ace8ea9653fc2ee61ff38becd40cbf4b3486e55c6390788ba3e038356addb98078883b26775d79a33b260e7c64caaecad467756867a5a92ae2c7ada16aec9e94acc8ea1603d97c863f971ebc612fdb19372211ccb6456def37b4cd41deed9f13dcc90b52308b78b59b071b98512eceba055666f8a6759d3e17c5fd616fe82e95cd6cee26a3f94c067f90cbc810de7eeb8053908c52a47c2fb6a58d00cbfc1e9218b81ab6178ce8b74ee3cb59103fcc3b2526112d32a0580a43d1d8248aad9e7449887ae6a35908b3ebe14be8b07e4f9e16e6d53c72a1b92e26b43d717efa4b8138cc0fa2c78ce8b73f931b59609fef9b3053956886444d5b82c40d200c28fa4138d8a9f7e358bc770ef71ebd44caaffae4868598c5752def56c41d61cbfc1bf149b87ec2c2a90c674f921a59d3fe4f5b253210ab22a41d5fa6a42c12be899e94acc92b2613e97ca70cf26b3c64caaeaa449675f9b2a1b92f96f55e717e898a336818bae7a29c08526ef30b98104fdf0a8496412c52a42c3f17c6cd00cf48daa12878dae2c76c0cd6bd23ca5b012e9ffaa052f128e6d58dcfb6d4cc711f295e94acc81af603487ca70f53cbfc64caaecad526459877b159cb66344de1dc982bb039dc0ec2c2a86cf52f536a68112cdf2a0456f558d2a1b92e36b4fd811e9afae0b9e8db26f289bfa70f321b08305aab0e3506652826143e0f17c5eda0be99ea512bd96af7c3b85cc26b071b98512eceba0556673866654c5e67c48dd1be4d9e7448d8daf653387ec6afd31bd8104aab0e3467340aa6753d5da6f40d65ab1d9aa169eaca1633fc08526fd23a1b205faefa8486d12c52a47dcf57a4bdc0af0d9e7449e90af6a2f81dd26b071a49705fadda6426d44cb2415dcf5604ac619fa9ee94acc8ea1603d97c863f920f3c842e7f28d4e6d55cb2415c7f16c49c111eb9eb944c2c0a76b2ea5c869f923b08013aab0e34d6246884d59d1f66248d75ab1d9b8038086826b3b81c66abe7ff39209eaeea0536612c52a55dce16b59dc17e993e94acc81ac672a80c665ee37f3c842ebeea443665e9d6156dce72c019113f882a9098f90a42c76c0c465f232b68104aab0e34a6654806973d5e2674ed60bbfd7e9159a8db26f3d878b28be20b49616e1ffa4706c42826d4592b82c5bda0ae98eaa0aa587b96c3583db60be7ff39301e3f98d48605bcb2415d4f17844d01dd09ea6099c9be222788bc76fbe7ff38c09ecbeed056f5f8a634492b82c40d61cf49a88079e83a267368bdd6df920f3c842e5f9a54e62638c7b44d9fb600f9f5aed9eb90b8791b367358cda26b071a19605fbf9af53624480675992b82c5ed60af49aa744c2c0b57d38c08526eb3abf800fffdfae497742866444ffe26b5fdf19e4d9e7449690e2227897da61ee12b6810efcd8a0536212c52a54d1fa5d45d20af8d9e7449d8aa17c3fc08526ff3fb48512c9ecb16562548e6d159cb66948c73afc8fbf039c9be2227885cc70c920b4962dedf8a846211ccb7a52c1e16b5ec735d4bf82278d81a57d29c08526ee36a09105fbe88c426759884352c9c7775ec71df0baa8058b91b32c76c0da61e812a19422e9f8a642211ccb7f52d2ff6759f41de9aeb8039cafa56a33838b28be34b49029e6efb5466f5c8c6c65d5f86f59d61cdc8bbb15cccee27c3f85c077e836a3b412e7e8ae446c5ca16959d4f86b5f9154bf8ea5148b85a97d2e87db54ee3ca58b03e7f089466d54856d4592c97301910ff899940182c0fa757881c86aea32a2bb06e1f2a64271409b6159c4b634569114f895ac1286c0fa3d68d39f36b071bf910dd7ffae4b6c429a2a0d84a038189f5af09ffe44d4c0a36f3e849f31ad66e3d502bdfef3163602d96d53d4a76c4c861baa99f202d7dae2227896c577f471ebc654ccd9f3613275de4d0180d14a1b803eacc2fd57d6a4f74d6cd0983cac12e2d057bedd83144672ac3002f4a44819814fadc28820dad2f94863d39841af16e9d755b9ddf4113512942415c0f57c4cde1de99eb915ccd8bb2c2887c760f921b49642b2be8069447cac281ff7fb614adf1db1db9d138289a1607ad38737b263f1cc33fff5a7535058886c52c2b44a48c511fe9eeb4ebd97a2743f90c62dbc7be19c50b8acf1643374ac211e9cb45d5ada1ee9a8a3078a87b22e3e90c072f921f8c64caaeaa449675f9b2a0d92d36142d414f8db82088dcce0261d8dc663f036f8c61df5b0e3506a5e8d674092ae750fdf17fe9abf0f818ce23421c0c676f534b88a42b2bea95377409a32189fe3795a9d1ded92a8018f8fa57d7481c669be7ff39401fcf4af466e55cb32159ffd6a02df17fa92a5498b92a96d78ce8b6cee36b7c65aaaf4b5537343d32718c7e37903d608f498ac078387b320398dc42bf537fe880feff5af086640806b08c2f16a44c11dfe8f94139c8bfd662e96d977b96090c152ceb9f3617044867a529ef17e44d01ffc96ae15c081af637fd0ef76e976e3a246ebf0a8426d44b661538dac3918d24bffcefc02dd83f63a6a839f66ab35e88654eda4f9143706da695584b673019110f488bf099c9be23421c0c561f234a58c42b2afbc0b21438a7a52d5fa2c17c85afc8daa0f82bda86b3385c170be69e0d455b8b0e3467551806468c7fd6a59db5aa7caf254decee26f2c83c068c327be9442b2aff10b21588c6150d8e02c178248a5cbe744998ba47a32c09335a561e1c842ebf3ad48716f8d6d47c4fc2c17814ce0d7e9168b90a661288fc86aff36f3de1baaf1a44a6c42902a0dcbb6645eec10f89abb399d8bba6b058ec069f527f3de52b9abf3113709dd3f059cb67a42c719f1a4a115b18aa56f2abdda6de636f3de51b9aaf1103408dd3c1b92e17d48d727f788940e8b83b051298bd361be69e8d054b1adf310354dc52a45d5e76158c11bf888e95cb5c0a87a2e92da3eb37ca29001fcf5a20a62439a6d43c3b97e5fdc1cb38ea5148b83ac6b3485c06af97db28b0da7fda2446c45877c1ac0fb7c59d214b288bf079a8ba3212996c870f530fe8e13a7afef173608d0690683a3204edb0df390e50c9dc0ec2c3296dd74ef69fecb13fcfdb54e601d887b44d5e07d00c30af29fe5138090a56f3687c763f53db4ca03e7f1ee466053867d59c4b97e42c10cfc97e4159a83b46739cdda70fd27b8874fe2efee4a625987260789a7361bd14ea9d5a80e9b8cab2030918b28be3ba59010fba6ee087742886b5cd9fa6903d608f498ac078387b320398dc42be821b0870be1f2a6096943cb2415d8e07a5dc042b2d4b8128f96a96d7783da77f927a2c910faf3a509765e9b6d56dcf1604ada16f8d5a80983cda16d398ddc6ae87ea18b12fcfdad087044887c5ed3bb7d59d20cf498e4059d91ef3a74d0c832ae62e5d357a6ffa9526d5bc76b44c3b6220fdb0ce98bb85cc1cdb37a3b96c067b132a29705fcefec57715f8d2642dee66b4cdf1df39ca2088bcca36137cdc867ff3ca48a14a5ecae557751852744c4f57a44d057ee8faa128781ef6429cd9d2aad66e0d201ebfff10960589c665c9efe7d0f9f5af58fbf169dd8ef212996c870f530fc8513fbf9b5542e409b67539ee1605fd619f19ea501878ca520398dc42bfd30b28b15e6e8ec576c429d695b9fe77a4cc711fed4b8128f96a96d7588da2bec3cbd9d06e1f0ad542d02de3d56d5a737189d1bf58ea50dc088b32c76c0c170e823a2de4fa7ebb6502d55996154d7f56348c056fe94a6498786ef6f2a8b8676f923a49001fcf5ae49211ccb6043c4e47d179c57ea8cbc488b92a96d3d83c461ef7db28b0da7f5a508624080275bdff76f59da17f3d9e7448696b47e29d8862beb24a6ca05f8f5a240625d8c7b19d3fb6302da1cb29abb0fc18bf13634ddc777a13eb49713e9fba454255c8866508de67b0f9f5af58fbf169dd8ef212d95de2af923b88707e9f1a4542d53866518d9f0214cc311b292fa5e80ddae7d6787d96dff7eb28b0efbf9af532e5480695bdff32841d216fac6b913cccee2662e96d977a67cfe9317ffb2a4576a538e695ad5e7204edc15b292af498f92a92133d3916aa33da2d90dedefb24664559a2e5bd1fa6910c10dbfd7e90e9a96b07d60cd8673eb24ff8110e1ffa6466e559a2654dff92144d757fc8ba24987d3f860658cda39f923b8874debf3af54665e9d2553d9f56242d45ef19aa501d390b52c76c0c170e823a2de4fa7ebb6502d55996154d7f56348c056fe94a6498786ef6f2a8b8665f232bd9d14e1ffb2052f12817c43c0e734029c0be99abf0f8dcfa17d2987dd77b123a38b04a6e9af556651856d59d7fd60489d1bf296e4078d81af7b34968474f321a5850ca7efb54677598a2752c0fd6d00d519eb92a80980cff93822db9f2aec3db6c64caaf4b5537343d32718c7e37903d608f498ac078387b320398dc42bf537fe8510e1b3a049625c907c5ed3e72c019110e98fbb15d4cdef792d958761ec3ab28301e5f9b209605f84275ed4bb6f5dda57fc95aa0a9796a96d29c08526f427a59413b2b3ee507447c76d47d9f7694cde1deed5a80983cda96a7583d96db330bd8d05e6e8ee1f3405883b5585a36a1ed24ea9cbaa508cd5a63738d6cc3ca460e5d253e9fef51871558d6145d5f77a78c114a093bf129e91e53d1bc79b42b961979714e7eea4096640806b50d1f96b5e9d1bf296ee54a890b52b68a48b28be3ba59010fba6ee0874479e2652c0fd6d4ad215f888e505818fef673ecdc874f57cb09114e0f9af536a53887c5292b82c45c70ced88f149c195b7797487d96dff34b08905fbb2a2486e1f806c18d1e46702d216fc97b2128781b32c76c0c170e823a2de4fa7ebb6502d55996154d7f56348c056fe94a6498786ef6f2a8b8665f232bd9d14e1ffb2052f12817c43c0e734029c0be99abf0f8dcfa17d2987dd77b123a38b04a6e9af556651856d59d7fd60489d1bf296e4078d81af7b34968474f321a5850ca7efb54677598a2744c4f57a44d057f788e452d7ccf36f3f84cb67af32ff8708fdf2aa096943cb2415d8e07a5dc042b2d4b8128f96a96d7783da77f927a2c910faf3a509765e9b6d56dcf1604ada16f8d5a80983cda16d398ddc6ae87ea18b12fcfdad087044887c5ed3bb7d59d20cf498e40c9dcdf13e74849e36fa35e58056a6ffa9526d5bc7624492b82c45c70ced88f149c191b46f2e8bca29fd20a28114fbb1b1556c54c77d59c2f16f41d616fa92a503c081af637583ca67f326bf904df8f3b353625cc67b43d1e0674e9c0be99abf0f8dcdaa7d75d39e2afd66b7d254b0a9a20960589c665c9efe7d0f9f5af58fbf169dd8ef212d95de2af923b88707e9f1a4542d53866518d9f0214cc311b29aa507829bb46739918b28be3ba59010fba6ee0874479e2652c0fd6d4ad215f888e505818fef673ecdc874f57cb28809edf2b5083b07dc6904d2a139498019abcffb07d880f76863809d61a46be2d056bbfda3133c428c6c5ec2f16d59e60af1c6a3129a92b32b69a38c36da76e3a213fcf3b3422d55996154d7f56348c056fe94a643dca4b27b7fd0ef26b071b99014f8effb082c439d6943d9f7234cc00bf88fb84b9e90af6a7497c776f932bd810eeff5af422d53866518d1f76d42c616e9d6bb099c96a1627591dd65e83ab2cb05f8f5a20a65519f6154dffa23148500a4cde5168085e222788add70ec20ebcb4fffebb6096640806b50d1f96b5e9d1bf296e40f8acda17e33cdc86afd3fa89009ebefe30b21589d7c47c3ae2102c40fead5ae168781a76f3787da2aff3cbccb09ecb3a0576a1f886656dced7a44d00bbfd7e90e9a96b07d60cd8670fd3fbe8a4dfff9a3546a448c2547c2fb6a03d61bf288ae05c08dae203f92c067fb32bc8113a6ffae4a2c44886458decb7d49d856f788e94acc8ab47a2a91932bb327b0880fe6b1b2427146806b529de47c42d756f898a4158b81ee6134cccc74f530b6850dedefef446c5dc67e069ffd6044c75ab1d9a3129a92b33475cdc377b23bb28510fcffa9462d5386651881bb6f5dda56f788f409808eaf6f3edfc147fd23a58708e9d0ae4667558d2e45d5fa6a48c145f883bb0a8781a97a78ce8b6ce827a1975aa7b3af4274519a7b52c4e72045d019ed8fa80e8fcca36137cdca65ec27b28c01a7eaf00837088c6a56d1f2215ec719e992a84987d3f8607590dc2af620be8a42a4bea95377409a32189ffa6b5ad20bee9ebf15c08aa36f2a96ca6cfd7db28b0da7ffa0577753816918c6a521198b1dff9aaa00c191b46f2e8bca2bf430b09414ebf4a0096b44846414d6e66f40d645fe93aa0a8287ae693fc4c060a163e48005b9a5f7137303913f11d8fb7d598e0fea8ce5039e8ba3693b8fcc77b230be8946fbf9af537149d47c45c5f1285fd608f289bf079e8bfd662e96d977b96090c152ceb9f36162538a6742dee07d03db1bfc8bbf058683ee6d358f8f76f930b09414ebf4a0446c5d9969438de07c58d65efe8eb812818ffd683b8eda61ba3bbdd912fdbab5576f598763448dfb600bc011e99ea00397dff93f3fd69837ab35fcdd55e9faec136153d0250e87f56800d01cfe9eaf058bd0f16d62818f70f436bc815decfdb34c25438072528dfd605bda0bf499a703c881a86f368ecc6afb36fc870fe6e8a04e6d559b355feff76f5dc71bf59a94058683ac623f8cce61c33fbe8309e6c3b1556c54cf6745d9f367438e10e98fbb15cbd1812b68a48c36da24a6934eedeca8446451846d449ef761409154bf93bf129e91fa21758ccc73fd20a28114fbb2a94462409d6b5fd1ba6d42de57fe9abb128d8aa1212cd38630a436b38501eeb3b2536244806b18d8f76f5dc71bf59ae50e9a8fac2d3c90c869f96eb28c05ebf7a3487b16806c0a80a16a488241abcfbb5596d5e6663591dd39eb24a6ca05f8f5a240625d8c7b19d3fb630bc01df38fb91fd396b27b3fc4db61ec3ca39001f8f5fc4f7744997b1283d52b1ff55dafbdaa058d8db5602e91876cff32a19003e0fdef446c5dcf7a52d3f57e59d010fc98a40b9e83b4332e90dc61ba30a49714e7f1fc41625c9a6d11d8f8335fc65ee98ba70f8089b333358c8f77f527b48f05f1a1f8166604d83b00d6b93718d21eb0cfa905d7cff9393b848467f830b48003edaef0443b53cf7c5fd5f96b10d719ef90ed158798a533338cdf6def3ab38805aeffa9466f5c8c6650d5b96d42dd0cfc92a5039cdfa8513983d970ff3bb0bb03e0fdad4b665e8e6d68dcfb6944dd27ed89a402c88db2673d8bc739f427a59413adaf80023176cc3a71c7e37903d608f498ac078387b320398dc426b071b99014f8effb082c44886458deb97d48c10ef498ae4b9e90af6a7487ca6bef36b2ca0fe6b2a4576a538e695ad5e7204edc15b28dfa499e8aa17d3f908666fd27b28c42a4bea95377409a32189fe06f41dc16b088ae14988ba36b7792db6bf87db4870ffbf9a2096c5ec76d47d9f7694cde1deed5a80983cdb63f7592c165ef36a3cb02e9e8a24f211ccb6043c4e47d179c57e99aa70980cfb36b2894c067f97ea1960fecb2a4446c438c6b19dffa2048c311fe9caa0b8b91ee6d358f8672ad7cb88a09fcb3a45f66539c7c5292c97301911cf88da2058bbdb0672287c55bee32a58d0faaa6f00b2154887a5ceff96149d65aa78fb9138bcee26d3290c669f971eb9012fdf9ed057342867852c2e07772df11ee8fe95cb5c0f02c76c09826b071a68d0eecf3b6052f129a6d5bd6b6220fd717fe8ea6038096e222788cc869f971fdc60ce7ffa0536a5f872a1b92f77b5ec717f0bea7038387ae7a29c08526f43aa2900ffae5e30b215c866b56c4fd6143d119efd9e7448387ae7b3883db26b071a18112fbf3af466f52887a159cb67d4ec117f197a9079c91e2227891dd65e826a28601fabeed05775f866455d1e62c01910be99abf139dc0ec2c398ec677f937f3c842eeeea04a6643cb2415dcf1604ac710bfd7e9128192e222788dd961f236a3c64caaeca055665e9d2a1b92f27c4cde1dd897ae0b8b8cb42c76c0c765ea3ab68514e7eee30b215f9b6150d9fa2c01911de58fae148083ac2c76c0da67ee36b48a42a4bea8496d559b5f5ed4e0660f9f5af495a5039caaa5673d8add26b071a28712e7f0ad7f211ccb7856d7f15662d51eee9ebf44c2c0b36d288dc568c571fdc610e9fba47e4c568f7b52c4b6220fc511ee8eaa0ab88ba5792a8ddb70be7ff39703faf9a4495b12c52a44d3e66b48dd21bfd7e9099b96a57c0d8bcd70f471fdc60ffde8a4554b55806f5fc4b6220fd71deb92a803be8bb86b36b0c870f53cf3c842ebf0a8426d44a06651dfe6634cc711f295e94acc91a37c3f87c748f935a5c64caaefa2556655875c58c0b6220fc00ce497ae2b8b86a96f78ce8b6bf220b48512ebf4e30b21599a5b52d3e17c48f017f38fae1e9ac0ec2c2e90dc77e836b5b019f8f9b2052f12996d45d6fb7c40d216fe9ee94acc8dae6f2a92c06aef27b0880cedf8e30b215f876a52d6fb7c48da16ee8faa0a8292b2613792dd26b071b29619f8e8ae052f12806653d5ec6b49f73abfd7e9158b91b367358cfa70f321b08305aab0e34b6c53886464c4fb7c4cd41dbfd7e9098080a5683590cc7cee20b48805ebe8e30b215f876955dfe67a0f9f5af295a903888db26b338cd971e871fdc60fe6fead527112c52a58def76f43d01df1d9e744818ca36f3492c565e571fdc60fe6ffa049735c887143d8e66158d410bfd7e9098081a86f3485cc26b071be8a03e4f5a24c211ccb6759d3f8615ed65ab1d9a4088d8dae7a3f9add68f320a5c64caaf3af446c5e9d6d4fc4f96b43c65ab1d9a4088d8dae7a3f9add76f920a58b12edf8e30b215f876b42d5f7664cdd1ff8d9e744818ca46c3681c56dff38f3c842e7f2a5556257cb2415dffa6a5fd21ff895af44c2c0af603e90c863f93da58112aab0e3486d549b6950dcf16f5bd65ab1d9a4088a90a1693594cc76be7ff38b0eeceea0407044887a4392b82c42dd1cef94bb44c2c0af603e97db65e83abe8a03e0fdaf406612c52a58def1635dc711f89fe94acc8dae6b3486cc60be7ff38b0eedeeb3487112c52a58def2614ec60bbfd7e9098084af7c3786c870fd71fdc60fe6f5af577644cb2415dffa6743c519f192af44c2c0af603187d060f324bfc64caaf3af4c6649997a52c3e72c019117f390ae1f9b92e222788dc768f332b5c64caaf3af4b6c518d6d53d4f57a4c9154bf94a50a8183a46b3e8fcc70fd37b09001aab0e3486d5c866953c3e06f5fc75ab1d9a408838db57d3f86c673f271fdc60fe6f1ae5270558c6643d5e62c019117f396a4139d87ac6b3b94cc26b071be8a0de7e9b2426e5f9f6d159cb66143de17e888ae099b96e222788dc769f326a2810ffef9b3052f1286665adfe17d48c608bfd7e909808faf7b2987de6cf936bdc64caaf3af5762459a6d159cb66143c314fc82e94acc8dae7e3683d06df234f3c842e7f2b1556c579b6d44c3b6220fdc16ef9abf038d8aa1603d878b28be3cbf9605fbf9b5052f12866645d5e76757d65ab1d9a4089d81b261368e8b28be3cbf9705ebe9b34e774999675bd9f7775bda17f19abf0f818ce222788dc777f936ba8104aab0e3486d438c6d5cd9fa690f9f5af295b8038287a37a78ce8b6bf220bd8b14ebf4a0496455cb2415dffa7d59d214f19eaf44c2c0af602997cb69f527f3c842e7f2b25270408c665392b82c42dd0cf496ae139e86a17a3fc08526f33da58b07eff0a4052f12866641dff87b40d61bf59aa5018bc0ec2c358cde65f527b88a07aab0e3486d478c6a5cd9e06f43da15fc8fa2098087ae6a78ce8b6bf224b4860be1e8a0496a5d887c5edffa6759d60afc8fa20980c0ec2c358cde61fe38b89001e6f5ac467759866644c4f57c599154bf94a5118b80ab672e96db65f220b89009e7f2a4496712c52a58dee36648d614bfd7e9098083b576398ec067f771fdc60fe6fbae53735f806643d5e66d4cc30ce889ae44c2c0af60368dda70ec3cb88a14edeea24673449c7a5292b82c42dd08f292a5128b90a4612d8c8b28be3cbf940fe1f2b542715d867e5292b82c42dd08f292a5128b90b26f2d97d960fd27b4c64caaf3af576c59877c52c2e17e0f9f5af295bb09878cb46b2881c86aff36bdc64caaf3af576c59877c52c2fb7848c15ab1d9a4089e8da9602e87db6be927f3c842e7f2b1486a5e9d6d45d5fa7a48c15ab1d9a4089e8da9602e87db68f932a78142a4beae497055856d54c4e77a4cc10cbfd7e9098091a5623f81dd6df33db28c01e6fba4052f12866656defd634cc711f295ae088ac0ec2c358cc86af53eb09009e7f2a8536642887c5edffa2c019117f39aa50f8383b467358cda70fd21a5c64caaf3af537151877b5ec4fd6143c10df3d9e744818cb47c3b8cda6de83abe8a13fcfdb353211ccb6759c4e66f43c011e992a4088b8ca42c76c0c66ae821b08a13e1e8a8486d53886654d5f82c019117f39aad128b90b07c338cdd26b071be8a02edfaae5566409b6159c4b6220fdc16ff9ead099c87b560368dc860be7ff38b0ee0fdb24f6058886650d5b6220fdc16f19aa5019b83a76b398ac86afb36f3c842e7f2ac427043886f5292b82c42dd15f888b8078987a57c288ddb26b071be8a0feefaad4e6d55cb2415dffa6143df11f39ee94acc8dae7e3b85cc6cf537b4c64caaf3af5762578c7b5fdfe32c019117f38ba4169d96a17a3fc08526f33da3810aedffb54e6c5e816959d4f86b499154bf94a5159a8db26f3d878b28be3cbf910ee0fdaf436f558d7a52daf16d59da17f3d9e744818cb560368dc860be7ff38712e7efb26871598e6159f9e76141d20cf89fe94acc91a3663f86dc68f921f3c842e9f0a4557712c52a56c4fb6c0f9f5aff97be14cccee26c2e8dc826b071b2850eebf9ad666d59846943d9fb606bc119f09ee94acc81a1603987c54df83fb4a701e4f0a346605bcb2415d3f57e59c60af8bebd038096b32c76c0ca68f932a3ad0efcf9b351625ccb2415d3f86b4cc12cf496ae099b96e2227881c56bef36f3c842ebf3af416a42842a1b92f77c48d20cf8b2a607898782672e8fc874be7ff38205fcffa9052f128f6159d4b6220fd517fe8eb844c2c0a76b2ea1c669ec26a58104dbe8b84b6612c52a50d5e05d48df1dfe8fa20980c0ec2c3783dd67f41eb48009e9beed056e5f9f6d75c9b6220fde17eb9e9f09cccee2612a87c726b071a18b13fcd1a45470518e6d159cb67e5fda16e9d9e7449e90af632a968b28be22a48115edd1a844715f9d6944dbb6220fc11df19eaa158ba7b66b3496da26b071a38110e7eeb5627142867a159cb67c48c20df888bf27808bad6f2e8bc66ada21b08905aab0e35566419c6d44c4dd6a41d63bfc97a7048f81ab2c76c0db61ef3aab8122f1beed0571559a614dd5c0610f9f5aee98b909828ee2227891ca76f33fbda619aab0e354604286645be4fb2c01910bf88f82089a87b2783b8e8b28be20b49034e1f1a4487644cb2415c3e0615d9154bf88bf149b81b47b2887cd47f03cbf8142a4beb642615b807c74d1fa6d48df39f392a6079a8baf601c90c869f971fdc617edfeaa4e77628c7942d5e77a6cdd11f09abf0f818c867c3b8fcc26b071b28c12e7f1a4052f128a6954d8f17d0f9f5afe94a40d8787937a3590cc26b071be8a04edeaa844665d867c5edffa2c019117f39fae108781a561288bcc6ae832a58d0fe6beed056c5e8d6d41d9f76b42c111f895bf079a8baf603b80da6bf026a58142a4bead46765e8a6066c5f17b489154bf94a5048b84af7c3f8fc870ff3bf3c842eff9b57460428c6d59f4f17a4cda14eed9e7449f97a57c23aec667fd3f978b0efcefe30b2143816740f4fd7c48d00cf289b2368781ab6b28c08526ef3bbe932ff8f9af616a5c8c585ed3ff6b5f9154bf88a30999b1a1783fa4c068f903b8870bedeee30b215f9b6150d9fa4f4ad616e9b8a7139d96a57c78ce8b6afd25b88301fcf5ae49211ccb7f52d2ff6759e00cf289aa018babae6835c08526ef23b48103e0cfb84977588c7b5ec3b6220fdc16fe94a5128b8cb4783391c066f53fb89019e9e9b5487044887c52d3fc6f43d41dbfd7e9099e87ae4a3b96c866fd20b4c64caaeba44568599d5a52c1e16b5ec73ef497ae359791b46b37c08526eb36b38f09fccea4546c5c9f6d7bdff76f41f511f19e981f9d96a5630fb0e526b071909410c1f2a853211ccb5752c0fd6d68dd19ff97ae25818dab673fa5dc65ee37f3c842d7c3b5556253826159d7cb6c4cc01dbfd7e9118b80b06f3989e377f33da18503ebf3b4497740867a43d1f82343dc1cf8d6bc038c91a97a3fc08526c336a18d03dceea0446859876f74dffb6544d63cf296aa0f80aba42c76c0f661ec3ab2b012e9ffaa4e6d57aa6742dee07c54f017f99ee94acc90a5693f8ccc76fd27be9632fdf2b54e6e55cb241582f23f4cd01bab98f807d8d2f66c6ada9b61a936b48255eda9f51332048f6e5592b82c72ec2bd8b59f34b7bd9f2c76c0f65bfd2bb88b13c1f2b253625e8a6d159cb65172d017ef9ee60c9dbdb3663b90cc60c30cf3c842ebf3b342211ccb5768d1ec6742c031f388bf078081a54d3b81c161f871fdc629c5fdb24c211ccb5768c3e0615fd65ab1d994039e8ba35a2883ca6ff53db6c64caaefa4534a5d846d53d9f57a489154bf98a7038f9089633787cd6dfd27b4c64caaeea44462409d6b5fd1db7e59da17f388e94acc83f0516a9a9a32ad6bf3c842e9ac9e177b01df6c0692b82c64dd0cf1aba40a9784a96236c08526e832bd8b0eaab0e34f4051997c54d8f54242d21cf89fe94acc8a836f2a96ca6cfd01b48504f1beed0551519f6d5992b82c45d019ed8fa80e8fc0ec2c3d90cc67fd23a58708e9beed056812c52a5e92b82c79f635cdb49927bcbbe22278b2ec56cf1a82b025c6c8e30b21518d6c72c6f16059ff11ee8fae088b90e2227886c077ec32a58708cdeaa4497712c52a45d5f9615bd63deb9ea512a28bb37a3f8ccc76be0eacc842ecfdb542210a922a43d9f96b57dc16f8a4a4008891a57a78d88437ac63fdc606e7eeac467712d37315d3f56248dd1cfc89e95ccc85b26b3d8ddb7dbe7ff38001f1befb05311d8d6150d9e02c019114f298aa0a8bc0fa2c28978b28be3ebe8a14e0befb05311d8d6150d9e02c019116e896a9039c8bae690591d077e836bcc65aaaf0a0536d12c52a43d9f96b72c917f39ee95ccca3b3673bcdf061f732a58112e1f2a3527157cb2415c9f16f5f9142bf95be0b8b90a96d789fd428be21a48a14e1f1a405394bcb7b53efe66b4ec60aee9ee95c8883ac7d3f9f8526fa23bb9742b2e7e35166429a6158deb6340f8056aed5fd44c2c0b667298bdd6bee0cb88042b2bef54160068f3804d5a33c1b811cabc2a8528bdba33a3cd0c837a831b7d306b8a5e30b2153866651d9f06b43d01dbfc1fb48d8cee2663b91c161ef71eb9f42eef3af537012d32a5685a63b14d04ef9cdfc55d6d3f63868d3cf66ad6be38150b1f9f51267038830159cb67e41c61ff495b844d4c0f76c3cdb9b32ab37b58005bffdf2143603d03a0384f56c15d51ef8c2f9518ad7e2227883dc60f53cf3de42b0ada2133103d83d05d3ac3f1cd719ad98f2548a81a26b6ad69d37a937b38205aab0e344625e9f694492ae2c1b801eaa9dff56dfd4a26d39d09f32a832e78655b1f8a2423556883007d1a76a0f9f5aee98b9038b8ce23478dacb34fa35e88703b8fef1123a03d8390281a46d1c804fa9c3aa56dbd2a23f63c0d479b071bc8b14e1f3af05394bcb6558c5e76b40dc0ef8d9f13d95c0b42c60d79835ab7de3d450b8acf1173707df30039cb6760f8941adc2e74497c0fa3d63dad428e771a5c65abda8f51e2d04d9380780a43e14864babcce74496c0fa376bd28526e571ebd759bae1ed5c2144cb320f86ac3a038748adcbfb56dedbf53d6cd58526e471ebdd51b9b0e35e210ada3105cdb8750fc75aa7c3fc55daccf73e6ad29934ac67e6d258bcb0e35f210ad03a0e9cb6770f894ba4c3b64a95c0b42c60da9e3caa7de2d450b8acf1163a00de3b029cb6760f8940a9c9e74497c0fa3a68d0d428e771a5c65ab0a4f2102d01d9380780a43f198048a8cae74496c0fa366ad28526e571ebd054b8e1ed5c2144cb320f88ac39038248adcbfb56dfd6f33e6fd38526e471ebdc51bcb0e35e210add3d07cdb8750fc75aa7c3f253dccee27678d89135a47ff39d42b2a8f4127e1c922a4392ae36148a4eb3c9fb56ded2f03e6ed59f3ca87ff39c42b2a4f2152f12902a0d84a237509f03bf8fe95cdfd3f33e6bcc9034ac63e1d450b1a9f211341ccb70158aac3d1e9f5ae4d9f152d8dbbd2221c0dd26a662e0d755b9b0e35f210ad13c019cb6770f894cabc8b64a95c0b42c60d39830ac61ffd350b8acf1173304de3e0f84b82c559142a5c8f34acc9be2346ed79179b028f39042b2adf0133603c7390780a43e1d824caecbfe57c2c0b82c60d79133b071a8c65abcadf65a2f4bcb7c158aa53f188349b3ccfb56ded2f03e6ed59f3ca87ff39c42b2a8f7102f12902a0d84a03b509f03bf8fe95cdfd3f53b6ece8b7cbe69e4d354a4beb8053906d8394a9cef2c599142accafd56dcccf83e6ad29934ad6ae1d353bdb0e35f210adf3c069cb6770f894ea5c3b64a95c0b42c60d39832a967ffdc50b8acf1173209d93f0485b82c559142abc3fe4acc9be2346cdb9a79b028f39042b2adf0103304c7390780a43e1d824caecbfe57c2c0b82c60d59f35b071a8c65abea5f85a2f4bcb7c158aa53f1a864bb3cffb56ded2f03e63d79a32ab7ff39c42b2a4f1142f12902a0d86ad3f509f03bf8fe95cdfd3f83e6ccc9f34ac63e1d451bcaff112321ccb70158aac3e159f5ae4d9f150dbd4bd2221c0dd26a662e0dc55beb2f8173300d9380789a13d1b8454bf83e95cd6d3f922789b8b3eaa60e0994cf3beb5053901d8310788ba3f1d8348adcbfa52ddd2f53f76c0d126a66be3dc4caae5e31d3500dd751bcbb67a0f8949acc2fe5ec0d3f03e6ad29935a860e1d151a4beb9053908da3a1b92ed2c17864faa86e71dcc96e2346bd09934a47de3d450b8acf1173707df30039cb6760f8940aecbe74497c0fa3b6fd4d428e771a5c65ab9aef114311eda380780a43e1c8a48aac8fe4acc9ae23462d09e28be2af3de55bdacbc0b78129d2a0d81a63f1d8a56accbfb56ded2f13a69d29c35b071a9c65ab0aef70b2149cb320284a07301c85ae9d9f157dcd3f33874d69934ac63e1d459bdaff7102f12912a0d88a638019101bfc1fe55db9fec7578968b3ead61e3dc55a6aff1173300d9390e80a33d189f5ae5d9f15edcd7ec2c23c09331af66acc81baae8e31d3202da3b029ea23e1d8348adcaff55ded7f122789a8b3ea461e7c842f1befb12350894244c92e02c17824aaec3ff48dcd2f03e6ad29930ab65e9d04caae4e31d3b05db2415c9b6341b8241e0d7b0449ac0fa3f68d69a34b262e1d450b8acf0133000dc391b92ec2c178b4fa8d7e91fccd8f63a689f857fbe27f3de51baaaf2112d01d9380780a43f198048a8cae74496c0fa3f62ce8b7dbe69e7d654f5c1ed056e5f9c7b52d4fb79439142c680e912ccd8f53f69da873cac63e1d450b9a5f1103005c52a4f92ae371d8a54bf82e95cdddbf87376998b70be69e9dd54b9b2f8173300d9380789a13d1b8454bf83e95cd6d3f622789b8b3ea866e0994cf3beb5053901db390487ba3c1d8348adcbfb52d9d4f83a76c0d126a66be3d24caae5e31d3603dc751bcbb67a0f8949afcffd52c0d4f03e6ad29935a860e1d151a4beb9053908de3d1b92ed2c17854caf86964acc8faf7b2987dc74be698a9f42fcbefb123103db260e80a43e1d8348a4cef850d9cee27678d89034a57ff39d42b2aff81f7e1c922a4392ae36148b4ab3c9fb56ded2f03e6ed59f3ca87ff39c42b2a4f31f2f12902a0d84a239509f03bf8fe95cdfd0f23c6ecc9034ac63e1d450b1a9f211341ccb70158aac3c1b9f5ae4d9f153ddd7bd2221c0dd26a662e3d154b9b2f8173300d9380789a13d1b8454bf83e95cd6d5f522789b8b3eaa67e3993da4beb64f6655852a0debc9220fc717e898a3159a83b27a78d8f259b071a58b15ebf4a4496712d3536a9cb67a42c61bf596a4108bc0fa5507ce8b77ff21be880caaa69a7a2f12826d4ed4fb79439142c680e912ccd8f53a6bd5d428e771a5c65abda9f0147e1c922a4392ae381d834fe0d7b0449ac0fa3868d7902aad63e1d450b8adf5143305d8751bcbb67a0f894ea9cbff48d6d2f03e6ad2983dac64e2d11da4e7e353210adf3d0281ba361d8348adcbfa5fded5f33b27ced226e871ebd257bdafbc0b78129d2a0d86ac36159d40adcbfb56ded3f93e6dd19c79b028f39042b2abf11f361ed0380780a43e1d8a4daecdfc1bc299e27a78d89e36aa66ffdd50b8acf1173309dc3b0187e92256910cbfc1fc51dfdaee366ad29934ac62e8d457bba9bc0b78129d2a0d87ac391a9d41adcbfb56ded2f93b69d49e79b028f39042b2a4f110371ed1380780a43e1c8a48aac8fe1bc299e27a78d89033ad6bffdd50b8acf1173309dc3b0187e92256910cbfc1f251d6d7ee366ad29934ac62e8d457bba9bc0b78129d2a0d89ac36189d41adcbfb56ded2f93b69d49e79b028f39042b2a5f811321ed0380780a43e1d8a4daecdfc1bc299e27a78d89834ac6ae9ca58b8acf1173301d0380083a17301c85ae9d9f157ded3f33c74da9934ac63e1d559b8abf2127e1c922a4392ae3f1d824cadd5f356ded2f03e6bdb9933af66acc81baae8e31d3200d83c02cdb8750fc75aa7cafb57dad7ee3d6ad29934ac62e8d457bba9bc0b78129d2a0d81a43c1d8456accbfb56ded2f13a69d29c35e17faac614aaa6f0173000db260680a43e1d8349a9c8fb53df9fec7578968b3ead63e2d459a6a5f1173300d9380e85a7381ace54e6d9bf44d4d3f03d6bd5873cac63e1d450b9a5f110300594244c92e02c178248aeceff48d6d2f03e6ad2983dac64e2d11da4e7e353210ad8380388a320148348adcbfb56d7d7f3386d9f857fbe27f3de51b8a8f8162d08d9380780a43f14834faeceb64a95c0b42c60d39931ac67ffdd50b8acf1173309dc3b0187e92256910cbfc1fa56d9d7f5206bd29934ac63e0d053b8a9f05a5e1ccb6352c9e17e0f8923e6d9bf44d4d7f53b6ecc9034ac63e1d450b1a9f211344dc57315c4b634188641acd5f256ded2f03e6adb9c37aa64acc81baae8e31d3501db301989a43e1d8348adc2fe55d8d5bd2221c0dd26a665e2d656a6aef1173300d9380387a23619ce54e6d9bf44d4d4f4366b9f857fbe27f3de56beaaf05a2f4bcb7c158aa33e1d8256a4cbfb56ded2f0376fd19f33e17faac614aaa6f6173107c73f0780a43e1d834caacdf35293cebb2c2ec09333ad67e2ca59b8acf1173300d03d0486a37301c85ae9d9f151ddd1f77376998b70be69e6dc51b0b2f8173300d9380789a13d1b8405b180e912ccd8f73762d3873dac63e1d450b8a5f414350794244c92e02c178b4aafcae557ded2f03e6ad39d37ac66e0994cf3beb5053909d138019eac3e1d8348adcaf256d9d1f57376998b70be69e8dc56b8b2f8173300d9380789a13d1b8405b180e912ccd8f13e6ad29a79b028f39042b2adf1173b0794244c92e02c178248acc2ff48d7d2f03e6ad2993da960e7d31da4e7e353210ad8380581a07301c85ae9d9f157ded0f33674da9934ac63e1d559b8abf2127e1c922a4392ae3f1d814dac86e71dcc96e2346bd29a35af7de9d450b8acf1163a00de3b02cdb8750fc75aa7cafb55dcd7ee366ad29934ac62e8d457bba9bc0b78129d2a0d81a43d198256a4cbfb56ded2f0376fd19f33e17faac614aaa6f0173007d9260e80a43e1d8348a4cef850d99fec7578968b3ead63e2dc53a6a4f1173300d9390e80a33d18ce54e6d9bf44d4d3f03b69d5873dac63e1d450b8a5f414350794244c92e02c178248a8cffa48d6d2f03e6ad2983dac64e2d11da4e7e353210ad8380285ac20158348adcbfb57d7d2f73d6f9f857fbe27f3de51b8aaf4132d08d9380780a43f14834faeceb64a95c0b42c60d3993da961ffd750b8acf1173209d93f0485e95301910af888a21c8bc0fa5507ce8b74fd20a58142b2c79c5a2f129a675bc6f15159dc13f895e95c9a90b56b27"
links = {
    "talon": {
        "init": "https://talon-service-prod.ecosec.on.epicgames.com/v1/init",
        "batch": "https://talon-service-prod.ecosec.on.epicgames.com/v1/phaser/batch",
        "execute": "https://talon-service-prod.ecosec.on.epicgames.com/v1/init/execute",
        "rqdata": "https://talon-service-v4-prod.ak.epicgames.com/v1/init/execute"
    },
    "epic": {
        "crsf": "https://www.epicgames.com/id/api/csrf",
        "reputation": "https://www.epicgames.com/id/api/reputation",
        "authenticate": "https://www.epicgames.com/id/api/authenticate",
        "login": "https://www.epicgames.com/id/api/login"
    }
}


class EpicAuto_in:
    def __init__(self, captcha_key, proxy=None):
        self.captcha_key = captcha_key
        self.proxy = proxy
        self.attempts = 0

    def get_talon_batch_init(self, session, timing):
        events = ["sdk_init", "sdk_init_complete", "challenge_ready"]
        data = []
        for event in events:
            timing.append({"event": event, "timestamp": "2022-12-29T20:43:42.914Z"})

        for event in events:
            if event == 'sdk_init':
                data.append({"errors": [], "event": event, "timing": timing})
            else:
                data.append({"errors": [], "event": event, "session": session, "timing": timing})

        return json.dumps(data)

    def get_talon_executes(self, session, timing):
        timing.append({"event": "sdk_execute", "timestamp": "2022-12-29T21:44:21.366Z"})
        return json.dumps([{
            "errors": [], "event": "sdk_execute", "session": session, "timing": timing
        }])

    def get_epic_execute(self, session):
        return json.dumps({
            "ewa": "b",
            "kid": "p98hck",
            "session": session,
            "v": 1,
            "xal": xal
        })

    def get_challenge_execute(self, session, timing):
        timing.append({"event": "challenge_execute", "timestamp": "2022-12-29T21:44:21.366Z"})
        return json.dumps([{
            "errors": [], "event": "challenge_execute", "session": session, "timing": timing
        }])

    def generate_captcha(self, session, captcha, rqdata):
        data = {
            "User-Agent": "your_user_agent",
            "session_wrapper": session,
            "plan_results": {
                "h_captcha": {
                    "invisible": 1,
                    "value": captcha,
                    "resp_key": ""
                }
            },
            "v": 1,
            "xal": xal,
            "ewa": "b",
            "kid": "p98hck"
        }

        return base64.b64encode(json.dumps(data).encode("utf-8")).decode("utf-8")

    def solve_captcha(self):
        response_in = requests.get(
            f"http://rucaptcha.com/in.php?key={self.captcha_key}&method=hcaptcha&invisible=1&sitekey=91e4137f-95af-4bc9-97af-cdcedce21c8c&pageurl=https://www.epicgames.com/id/login/epic&json=1").json()
        request_id = response_in["request"]
        print(response_in)
        sleep(3)
        captcha_res_url = f"http://rucaptcha.com/res.php?key={self.captcha_key}&action=get&id={request_id}&json=1"
        response_res = requests.get(captcha_res_url).json()
        while response_res["status"] == 0:
            sleep(5)
            print("....жду капчу...")
            response_res = requests.get(captcha_res_url).json()
        return response_res["request"]

    def login(self, credentials, skip_proxy=False):
        session = requests.Session()
        if self.proxy and not skip_proxy:
            session.proxies.update(self.proxy)
        try:
            email, password = credentials.split(':')
        except Exception:
            raise Exception('Некроектно введен логинь и пароль')
        timings = []

        session.get(links["epic"]['crsf'])
        session_req = session.post(links["talon"]['init'], json.dumps({"flow_id": "login_prod"}))
        print(session_req)
        session_data = session_req.json()
        session.get(
            links['epic']['reputation'],
            headers={'x-xsrf-token': session.cookies.get("XSRF-TOKEN")},
            cookies=session.cookies
        )
        session.get(links['epic']['authenticate'],
                    headers={'x-xsrf-token': session.cookies.get("XSRF-TOKEN")},
                    cookies=session.cookies)
        session.post(links['talon']['batch'], self.get_talon_batch_init(session_data, timings))
        session.post(links['talon']['batch'], self.get_talon_executes(session_data, timings))
        session.post(links['talon']['execute'], self.get_epic_execute(session_data))
        session.post(links['talon']['rqdata'], self.get_epic_execute(session_data))
        print('...генирирую hcaptcha...')
        captcha_result = self.solve_captcha()
        ecaptcha = self.generate_captcha(session_data, captcha_result)
        print('пропуск готов')
        session.post(links['talon']['batch'], self.get_challenge_execute(session_data, timings))
        sleep(1)
        try:
            login_req = session.post(
                links['epic']['login'],
                headers={"x-xsrf-token": session.cookies.get("XSRF-TOKEN")},
                data={
                    "email": email,
                    "password": password,
                    "rememberMe": False,
                    "captcha": ecaptcha
                },
                cookies=session.cookies
            )
        except HTTPError as http_err:
            print(f'htttp error:{http_err}')
            print(login_req.text)
        except Exception as err:
            print(f'Other error occurred: {err}')
        if login_req.status_code != 200:
            if self.attempts <= 5:
                self.attempts += 1
                print(login_req.text)
                print('повторная попытка №', self.attempts)
                return self.login(credentials, skip_proxy=True)
        else:
            self.attempts = 0
            return login_req



















epic_aut = EpicAuto_in(captcha_key="b0d6c3f4982b6493c1a6fa94f591749a")
credentials = "exnbvbvbnv93@mail.ru:Saidalove1"
response = epic_aut.login(credentials)
print(response)